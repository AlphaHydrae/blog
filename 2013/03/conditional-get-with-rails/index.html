<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Conditional GET with Rails, Redis and jQuery | AlphaHydrae</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Conditional GET with Rails, Redis and jQuery" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="As mentionned in my previous post, I’ve been using conditional requests in a Ruby on Rails app." />
<meta property="og:description" content="As mentionned in my previous post, I’ve been using conditional requests in a Ruby on Rails app." />
<link rel="canonical" href="https://alphahydrae.com/2013/03/conditional-get-with-rails/" />
<meta property="og:url" content="https://alphahydrae.com/2013/03/conditional-get-with-rails/" />
<meta property="og:site_name" content="AlphaHydrae" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2013-03-07T22:01:00+01:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Conditional GET with Rails, Redis and jQuery" />
<script type="application/ld+json">
{"url":"https://alphahydrae.com/2013/03/conditional-get-with-rails/","headline":"Conditional GET with Rails, Redis and jQuery","dateModified":"2013-03-07T22:01:00+01:00","datePublished":"2013-03-07T22:01:00+01:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://alphahydrae.com/2013/03/conditional-get-with-rails/"},"description":"As mentionned in my previous post, I’ve been using conditional requests in a Ruby on Rails app.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Serif:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&display=swap" rel="stylesheet"> 
  <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet"> 
  <link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://alphahydrae.com/feed.xml" title="AlphaHydrae" /></head>
<body class="bg-gray-900 flex flex-col h-screen m-0 p-0 text-gray-300"><header>
  <nav class="bg-gray-700 w-full">
    <div class="max-w-7xl mx-auto px-2 sm:px-6 lg:px-8">
      <div class="relative flex items-center justify-between h-16">

        <div class="flex items-center">
          <!-- Brand -->
          <a href="/" class="text-white px-3 py-2 space-x-3 text-sm font-medium flex items-center">
            <img class="h-8 w-8 rounded-full" src="/assets/avatar.jpg" alt="GitHub">
            <span class="font-body text-xl">AlphaHydrae</span>
          </a>

          <!-- Page links -->
          <div class="hidden md:block ml-8 font-body text-sm">
            <a class="hover:text-blue-400 hover:underline" href="/posts">Posts</a>
          </div>
        </div>

        <!-- RSS & Social links -->
        <div class="flex space-x-3 text-gray-300">
          <!-- RSS -->
          <a href="/feed.xml" class="hidden md:flex text-sm bg-gray-700 hover:text-white">
            <span class="sr-only">Subscribe</span>
            <svg class="w-6 h-6 fill-current" role="img" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <title>RSS icon</title>
              <path d="M19.199 24C19.199 13.467 10.533 4.8 0 4.8V0c13.165 0 24 10.835 24 24h-4.801zM3.291 17.415c1.814 0 3.293 1.479 3.293 3.295 0 1.813-1.485 3.29-3.301 3.29C1.47 24 0 22.526 0 20.71s1.475-3.294 3.291-3.295zM15.909 24h-4.665c0-6.169-5.075-11.245-11.244-11.245V8.09c8.727 0 15.909 7.184 15.909 15.91z"></path>
            </svg>
          </a>
          <!-- Linked In -->
          <a href="https://www.linkedin.com/in/simonoulevay" class="bg-gray-700 flex text-sm hover:text-white">
            <span class="sr-only">LinkedIn</span>
            <svg class="w-6 h-6 fill-current" role="img" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <title>LinkedIn icon</title>
              <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path>
            </svg>
          </a>
          <!-- GitHub -->
          <a href="https://github.com/AlphaHydrae" class="bg-gray-700 flex text-sm hover:text-white">
            <span class="sr-only">GitHub</span>
            <svg class="w-6 h-6 fill-current" role="img" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <title>GitHub icon</title>
              <path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path>
            </svg>
          </a>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="flex-1 overflow-y-auto">
      <main class="font-body px-6 lg:px-0" aria-label="Content">
        

<article class="max-w-prose mx-auto" itemscope itemtype="https://schema.org/BlogPosting">
  <header class="mt-24 mb-20">
    <!-- Category --><!-- Title -->
    <h1 itemprop="name headline">Conditional GET with Rails, Redis and jQuery</h1>

    <!-- Metadata -->
    <p class="flex flex-wrap justify-center space-x-5 text-gray-400">

      <!-- Publication date -->
      

<span class="flex items-center justify-center space-x-2 mb-2 text-gray-500" datetime="2013-03-07T22:01:00+01:00" itemprop="datePublished">
  <svg width="16" height="16" class="octicon octicon-calendar octicon octicon-calendar octicon octicon-calendar octicon octicon-calendar octicon octicon-calendar octicon octicon-calendar octicon octicon-calendar octicon octicon-calendar octicon octicon-calendar octicon octicon-calendar octicon octicon-calendar octicon octicon-calendar octicon octicon-calendar octicon octicon-calendar octicon octicon-calendar octicon octicon-calendar octicon octicon-calendar octicon octicon-calendar octicon octicon-calendar octicon octicon-calendar octicon octicon-calendar octicon octicon-calendar octicon octicon-calendar octicon octicon-calendar octicon octicon-calendar octicon octicon-calendar octicon octicon-calendar octicon octicon-calendar octicon octicon-calendar octicon octicon-calendar octicon octicon-calendar align-middle inline fill-current" viewbox="0 0 16 16" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M4.75 0a.75.75 0 01.75.75V2h5V.75a.75.75 0 011.5 0V2h1.25c.966 0 1.75.784 1.75 1.75v10.5A1.75 1.75 0 0113.25 16H2.75A1.75 1.75 0 011 14.25V3.75C1 2.784 1.784 2 2.75 2H4V.75A.75.75 0 014.75 0zm0 3.5h8.5a.25.25 0 01.25.25V6h-11V3.75a.25.25 0 01.25-.25h2zm-2.25 4v6.75c0 .138.112.25.25.25h10.5a.25.25 0 00.25-.25V7.5h-11z"></path></svg>
  <span class="font-mono whitespace-nowrap">2013-03-07</span>
</span>


      <!-- Last modification date (if available) --><!-- Categories -->
      
        <span class="flex items-center space-x-2 mb-2 text-gray-500">
          <svg width="16" height="16" class="octicon octicon-file-directory octicon octicon-file-directory octicon octicon-file-directory octicon octicon-file-directory octicon octicon-file-directory octicon octicon-file-directory octicon octicon-file-directory octicon octicon-file-directory octicon octicon-file-directory octicon octicon-file-directory octicon octicon-file-directory octicon octicon-file-directory octicon octicon-file-directory octicon octicon-file-directory octicon octicon-file-directory octicon octicon-file-directory octicon octicon-file-directory octicon octicon-file-directory octicon octicon-file-directory octicon octicon-file-directory octicon octicon-file-directory octicon octicon-file-directory octicon octicon-file-directory octicon octicon-file-directory octicon octicon-file-directory octicon octicon-file-directory octicon octicon-file-directory octicon octicon-file-directory octicon octicon-file-directory octicon octicon-file-directory align-middle inline fill-current" viewbox="0 0 16 16" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M1.75 1A1.75 1.75 0 000 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0016 13.25v-8.5A1.75 1.75 0 0014.25 3h-6.5a.25.25 0 01-.2-.1l-.9-1.2c-.33-.44-.85-.7-1.4-.7h-3.5z"></path></svg>
          <span class="font-mono">programming</span>
        </span>
      

      <!-- Languages (if available) -->
      
        


<a class="flex items-center space-x-2 mb-2 cursor-pointer text-gray-500 hover:text-red-700 hover:underline" href="https://www.ruby-lang.org">
  <span class="w-4 h-4   fill-current">
  <svg role="img" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <title>Ruby</title>
  <path d="M20.156.083c3.033.525 3.893 2.598 3.829 4.77L24 4.822 22.635 22.71 4.89 23.926h.016C3.433 23.864.15 23.729 0 19.139l1.645-3 2.819 6.586.503 1.172 2.805-9.144-.03.007.016-.03 9.255 2.956-1.396-5.431-.99-3.9 8.82-.569-.615-.51L16.5 2.114 20.159.073l-.003.01zM0 19.089v.026-.029.003zM5.13 5.073c3.561-3.533 8.157-5.621 9.922-3.84 1.762 1.777-.105 6.105-3.673 9.636-3.563 3.532-8.103 5.734-9.864 3.957-1.766-1.777.045-6.217 3.612-9.75l.003-.003z"></path>
</svg>

</span>

  <span class="font-mono">ruby</span>
</a>

      
        


<a class="flex items-center space-x-2 mb-2 cursor-pointer text-gray-500 hover:text-red-500 hover:underline" href="https://rubyonrails.org">
  <span class="w-4 h-4   fill-current">
  <svg role="img" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <title>Ruby on Rails</title>
  <path d="M20.89 15.311v1.164h1.983c.406 0 1.103-.315 1.127-1.196v-.45c0-.752-.582-1.196-1.127-1.196h-.989v-.54h1.959v-1.17h-1.88c-.485 0-1.133.424-1.133 1.215v.405c0 .79.642 1.196 1.133 1.196 1.364.006-.327 0 .934 0v.566zm-10.62-.283s1.06-.096 1.06-1.55c0-1.452-1.285-1.587-1.285-1.587H7.729v4.584h1.164v-1.106L9.9 16.475h1.722zm-.45-.938h-.927v-1.048h.934s.26.102.26.52c0 .418-.266.528-.266.528zm4.384-2.167H13.02c-.842 0-1.127.81-1.127 1.196v3.356h1.182v-.804h1.11v.804h1.145v-3.356c0-.978-.836-1.196-1.127-1.196zm-.019 2.45H13.07V13.26s0-.25.37-.25h.406c.327 0 .333.25.333.25v1.112zm1.686-2.45h1.23v4.552h-1.23zm2.958 3.375v-3.375h-1.224v4.552h2.88v-1.177zM.424 16.475h4.79s-.916-4.43 2.115-6.224c.66-.34 2.764-1.614 6.208 1.087.109-.097.212-.174.212-.174S10.597 7.827 7.086 8.2c-1.764.167-3.934 1.871-5.207 4.122C.606 14.572.424 16.474.424 16.474zm0 0h4.79s-.916-4.43 2.115-6.224c.66-.34 2.764-1.614 6.208 1.087.109-.097.212-.174.212-.174S10.597 7.827 7.086 8.2c-1.764.167-3.934 1.871-5.207 4.122C.606 14.572.424 16.474.424 16.474zm0 0h4.79s-.916-4.43 2.115-6.224c.66-.34 2.764-1.614 6.208 1.087.109-.097.212-.174.212-.174S10.597 7.827 7.086 8.2c-1.77.167-3.94 1.871-5.213 4.122C.6 14.572.424 16.474.424 16.474zm9.979-7.915l.024-.43c-.055-.033-.206-.11-.588-.226l-.024.425c.2.07.394.148.588.231zm-.576 1.363l-.025.405c.2.007.4.033.6.078l.025-.4a4.06 4.06 0 00-.6-.083zM7.584 7.917h.06l-.121-.392a4.57 4.57 0 00-.582.039l.115.379c.176-.02.352-.026.528-.026zm.29 2.366l.14.444c.176-.09.352-.167.527-.225l-.133-.424a4.24 4.24 0 00-.533.205zm-2.752-1.69l-.272-.444a9.49 9.49 0 00-.473.276l.279.45c.157-.103.309-.2.466-.283zm1.243 2.893l.291.463c.103-.161.224-.31.358-.457l-.273-.437a3.487 3.487 0 00-.376.43zm-.879 2.07l.491.411a5.417 5.417 0 01.127-.752l-.436-.366a6.41 6.41 0 00-.182.707zm-2.655-3.054l-.43-.399c-.158.161-.31.322-.45.482l.468.425a6.423 6.423 0 01.412-.508zM1 13.376l-.697-.27a17.22 17.22 0 00-.303.771l.697.27c.079-.218.206-.533.303-.771zm4.395 1.813c.012.34.043.617.073.81l.727.277a8.962 8.962 0 01-.145-.836z"></path>
</svg>

</span>

  <span class="font-mono">ruby-on-rails</span>
</a>

      
        


<a class="flex items-center space-x-2 mb-2 cursor-pointer text-gray-500 hover:text-red-500 hover:underline" href="https://redis.io">
  <span class="w-4 h-4   fill-current">
  <svg role="img" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <title>Redis</title>
  <path d="M10.5 2.661l.54.997-1.797.644 2.409.218.748 1.246.467-1.121 2.077-.208-1.61-.613.426-1.017-1.578.519zm6.905 2.077L13.76 6.182l3.292 1.298.353-.146 3.293-1.298zm-10.51.312a2.97 1.153 0 0 0-2.97 1.152 2.97 1.153 0 0 0 2.97 1.153 2.97 1.153 0 0 0 2.97-1.153 2.97 1.153 0 0 0-2.97-1.152zM24 6.805s-8.983 4.278-10.395 4.953c-1.226.561-1.901.561-3.261.094C8.318 11.022 0 7.241 0 7.241v1.038c0 .24.332.499.966.8 1.277.613 8.34 3.677 9.45 4.206 1.112.53 1.9.54 3.313-.197 1.412-.738 8.049-3.905 9.326-4.57.654-.342.945-.602.945-.84zm-10.042.602L8.39 8.26l3.884 1.61zM24 10.637s-8.983 4.279-10.395 4.954c-1.226.56-1.901.56-3.261.093C8.318 14.854 0 11.074 0 11.074v1.038c0 .238.332.498.966.8 1.277.612 8.34 3.676 9.45 4.205 1.112.53 1.9.54 3.313-.197 1.412-.737 8.049-3.905 9.326-4.57.654-.332.945-.602.945-.84zm0 3.842l-10.395 4.954c-1.226.56-1.901.56-3.261.094C8.318 18.696 0 14.916 0 14.916v1.038c0 .239.332.499.966.8 1.277.613 8.34 3.676 9.45 4.206 1.112.53 1.9.54 3.313-.198 1.412-.737 8.049-3.904 9.326-4.569.654-.343.945-.613.945-.841z"></path>
</svg>

</span>

  <span class="font-mono">redis</span>
</a>

      
        


<a class="flex items-center space-x-2 mb-2 cursor-pointer text-gray-500 hover:text-blue-500 hover:underline" href="https://jquery.com">
  <span class="w-4 h-4   fill-current">
  <svg role="img" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <title>jQuery</title>
  <path d="M1.525 5.87c-2.126 3.054-1.862 7.026-.237 10.269.037.079.078.154.118.229.023.052.049.1.077.15.013.027.031.056.047.082.026.052.054.102.081.152l.157.266c.03.049.057.097.09.146.056.094.12.187.178.281.026.04.05.078.079.117a6.368 6.368 0 00.31.445c.078.107.156.211.24.315.027.038.058.076.086.115l.22.269c.028.03.055.067.084.099.098.118.202.233.306.35l.005.006a3.134 3.134 0 00.425.44c.08.083.16.165.245.245l.101.097c.111.105.223.209.34.309.002 0 .003.002.005.003l.057.05c.102.089.205.178.31.26l.125.105c.085.068.174.133.26.2l.137.105c.093.07.192.139.287.207.035.025.07.05.106.073l.03.023.28.185.12.08c.148.094.294.184.44.272.041.02.084.044.123.068.108.062.22.125.329.183.06.034.122.063.184.094.075.042.153.083.234.125a.324.324 0 01.056.023c.033.015.064.031.096.047.12.06.245.118.375.175.024.01.05.02.076.034.144.063.289.123.438.182.034.01.07.027.105.04.135.051.274.103.411.152l.05.018c.154.052.305.102.46.15.036.01.073.023.111.033.16.048.314.105.474.137 10.273 1.872 13.258-6.177 13.258-6.177-2.508 3.266-6.958 4.127-11.174 3.169-.156-.036-.312-.086-.47-.132a13.539 13.539 0 01-.567-.182l-.062-.024c-.136-.046-.267-.097-.4-.148a1.615 1.615 0 00-.11-.04c-.148-.06-.29-.121-.433-.184-.031-.01-.057-.024-.088-.036a23.44 23.44 0 01-.362-.17 1.485 1.485 0 01-.106-.052c-.094-.044-.188-.095-.28-.143a3.947 3.947 0 01-.187-.096c-.114-.06-.227-.125-.34-.187-.034-.024-.073-.044-.112-.066a15.922 15.922 0 01-.439-.27 2.107 2.107 0 01-.118-.078 6.01 6.01 0 01-.312-.207c-.035-.023-.067-.048-.103-.073a9.553 9.553 0 01-.295-.212c-.042-.034-.087-.066-.132-.1-.088-.07-.177-.135-.265-.208l-.118-.095a10.593 10.593 0 01-.335-.28.258.258 0 00-.037-.031l-.347-.316-.1-.094c-.082-.084-.166-.164-.25-.246l-.098-.1a9.081 9.081 0 01-.309-.323l-.015-.016c-.106-.116-.21-.235-.313-.355-.027-.03-.053-.064-.08-.097l-.227-.277a21.275 21.275 0 01-.34-.449C2.152 11.79 1.306 7.384 3.177 3.771m4.943-.473c-1.54 2.211-1.454 5.169-.254 7.508a9.111 9.111 0 00.678 1.133c.23.33.484.721.793.988.107.122.223.24.344.36l.09.09c.114.11.232.217.35.325l.016.013a9.867 9.867 0 00.414.342c.034.023.063.05.096.073.14.108.282.212.428.316l.015.009c.062.045.128.086.198.13.028.018.06.042.09.06.106.068.21.132.318.197.017.007.032.016.048.023.09.055.188.108.282.157.033.02.065.035.1.054.066.033.132.068.197.102l.032.014c.135.067.273.129.408.19.034.014.063.025.092.039.111.048.224.094.336.137.05.017.097.037.144.052.102.038.21.073.31.108l.14.045c.147.045.295.104.449.13C22.164 17.206 24 11.098 24 11.098c-1.653 2.38-4.852 3.513-8.261 2.628a8.04 8.04 0 01-.449-.13c-.048-.014-.09-.029-.136-.043-.104-.036-.211-.07-.312-.109l-.144-.054c-.113-.045-.227-.087-.336-.135-.034-.015-.065-.025-.091-.04-.14-.063-.281-.125-.418-.192l-.206-.107-.119-.06a5.673 5.673 0 01-.265-.15.62.62 0 01-.062-.035c-.106-.066-.217-.13-.318-.198-.034-.019-.065-.042-.097-.062l-.208-.136c-.144-.1-.285-.208-.428-.313-.032-.029-.063-.053-.094-.079-1.499-1.178-2.681-2.79-3.242-4.613-.59-1.897-.46-4.023.56-5.75m4.292-.147c-.909 1.334-.996 2.99-.37 4.46.665 1.563 2.024 2.79 3.608 3.37.065.025.128.046.196.07l.088.027c.092.03.185.063.28.084 4.381.845 5.567-2.25 5.886-2.704-1.043 1.498-2.792 1.857-4.938 1.335a4.85 4.85 0 01-.516-.16 6.352 6.352 0 01-.618-.254 6.53 6.53 0 01-1.082-.66c-1.922-1.457-3.113-4.236-1.859-6.5"></path>
  </svg>

</span>

  <span class="font-mono">jquery</span>
</a>

      

      <!-- Tags -->
      
        <span class="flex items-center space-x-2 mb-2 text-gray-500">
  <svg width="16" height="16" class="octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag align-middle inline fill-current" viewbox="0 0 16 16" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"></path></svg>
  <span class="font-mono">http</span>
</span>

      
        <span class="flex items-center space-x-2 mb-2 text-gray-500">
  <svg width="16" height="16" class="octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag octicon octicon-tag align-middle inline fill-current" viewbox="0 0 16 16" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"></path></svg>
  <span class="font-mono">etag</span>
</span>

      
    </p>
  </header>

  <!-- Post content -->
  <div class="text-lg" itemprop="articleBody">
    <p>As mentionned in my <a href="/2013/03/backbone-collection-304-not-modified">previous post</a>, I’ve been using conditional
requests in a <a href="http://rubyonrails.org">Ruby on Rails</a> app.</p>

<p>The principle of conditional requests is that when providing a resource, the
server will add cache control headers such as an <a href="http://en.wikipedia.org/wiki/HTTP_ETag">ETag</a> (an identifier of
a version of the resource) in the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/ETag"><code class="language-plaintext highlighter-rouge">ETag</code> header</a>, or the last
modification date of the resource in the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Last-Modified"><code class="language-plaintext highlighter-rouge">Last-Modified</code>
header</a>.</p>

<p>When the client sends its next request, it can send the ETag and the last
modification date in the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-None-Match"><code class="language-plaintext highlighter-rouge">If-None-Match</code> header</a> and the
<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-Modified-Since"><code class="language-plaintext highlighter-rouge">If-Modified-Since</code> header</a>. The server will then
compare them to the latest values. If they match, the client has fresh data and
thus the server can just send a 304 Not Modified response with no content,
saving bandwidth. If the headers do not match, the server will send a normal
response with updated cache control information.</p>

<p>Note that there are other cache control parameters. Read the <a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.3">HTTP GET method
definition</a> to learn more about them.</p>

<p>This post describes how I set up conditional requests in a Rails app, using
<a href="http://redis.io">Redis</a> as a cache to speed up things even more by avoiding a costly hit
on my SQL database.</p>

<!-- more -->

<h2 id="setting-up-redis-in-a-rails-app">Setting up Redis in a Rails app</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Install on Fedora 17</span>
<span class="nb">sudo </span>yum <span class="nb">install </span>redis
<span class="nb">sudo </span>systemctl <span class="nb">enable </span>redis.service
<span class="nb">sudo </span>systemctl start redis.service

<span class="c"># Install on OS X 10.8 with MacPorts</span>
<span class="nb">sudo </span>port <span class="nb">install </span>redis
<span class="nb">sudo </span>port load redis
</code></pre></div></div>

<p>Add the following to your Gemfile and run <code class="language-plaintext highlighter-rouge">bundle install</code>:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Client library for Redis.</span>
<span class="n">gem</span> <span class="s1">'redis'</span>
<span class="c1"># C extension for speed (optional).</span>
<span class="n">gem</span> <span class="s1">'hiredis'</span>
<span class="c1"># To namespace keys in Redis (optional).</span>
<span class="n">gem</span> <span class="s1">'redis-namespace'</span>
</code></pre></div></div>

<p>Here’s an initializer for Redis inspired by the one from <a href="https://github.com/defunkt/resque">Resque</a>. It
will load its configuration from <code class="language-plaintext highlighter-rouge">config/redis.yml</code>:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># File: config/initializers/redis.rb</span>
<span class="n">rails_root</span> <span class="o">=</span> <span class="no">Rails</span><span class="p">.</span><span class="nf">root</span> <span class="o">||</span> <span class="no">File</span><span class="p">.</span><span class="nf">dirname</span><span class="p">(</span><span class="kp">__FILE__</span><span class="p">)</span> <span class="o">+</span> <span class="s1">'/../..'</span>
<span class="n">rails_env</span> <span class="o">=</span> <span class="no">Rails</span><span class="p">.</span><span class="nf">env</span> <span class="o">||</span> <span class="s1">'development'</span>

<span class="n">config</span> <span class="o">=</span> <span class="no">YAML</span><span class="p">.</span><span class="nf">load_file</span> <span class="s2">"</span><span class="si">#{</span><span class="n">rails_root</span><span class="si">}</span><span class="s2">/config/redis.yml"</span>
<span class="n">config</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="n">rails_env</span><span class="p">]</span>
<span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">db</span> <span class="o">=</span> <span class="n">config</span><span class="p">.</span><span class="nf">split</span> <span class="sr">/:/</span>

<span class="c1"># The Redis connection.</span>
<span class="c1"># You can add "logger: Rails.logger" as an option</span>
<span class="c1"># if you want Redis operations logged like Active Record's.</span>
<span class="vg">$redis_db</span> <span class="o">=</span> <span class="no">Redis</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span>
  <span class="ss">host: </span><span class="n">host</span><span class="p">,</span>
  <span class="ss">port: </span><span class="n">port</span><span class="p">,</span>
  <span class="ss">db: </span><span class="n">db</span><span class="p">.</span><span class="nf">to_i</span><span class="p">,</span>
  <span class="ss">driver: :hiredis</span>
<span class="p">)</span>

<span class="c1"># Wrap the connection in a namespace (if useful for you).</span>
<span class="vg">$redis</span> <span class="o">=</span> <span class="no">Redis</span><span class="o">::</span><span class="no">Namespace</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'myapp'</span><span class="p">,</span> <span class="ss">redis: </span><span class="vg">$redis_db</span>
</code></pre></div></div>

<p>This is how the configuration file looks. Each line represents <code class="language-plaintext highlighter-rouge">environment:
host:port:db</code>.</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># File: config/redis.yml</span>
<span class="na">development</span><span class="pi">:</span> <span class="s">localhost:6379:0</span>
<span class="na">test</span><span class="pi">:</span> <span class="s">localhost:6379:1</span>
<span class="na">production</span><span class="pi">:</span> <span class="s">localhost:6379:0</span>
</code></pre></div></div>

<p>Now you may connect to Redis on the command line with <code class="language-plaintext highlighter-rouge">redis-cli</code>, or use
<code class="language-plaintext highlighter-rouge">$redis</code> in your application. The <a href="https://github.com/redis/redis-rb">redis-rb gem</a> pretty much uses the
same <a href="http://redis.io/commands">commands as Redis</a>.</p>

<h2 id="caching-contents-and-cache-control-parameters">Caching Contents and Cache Control Parameters</h2>

<p>Now let’s say I have a Rails action that looks like this.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">PeopleController</span> <span class="o">&lt;</span> <span class="no">ActionController</span><span class="o">::</span><span class="no">Base</span>
  <span class="k">def</span> <span class="nf">show</span>
    <span class="n">person</span> <span class="o">=</span> <span class="no">Person</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="ss">id: </span><span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">])</span>
      <span class="p">.</span><span class="nf">includes</span><span class="p">(</span><span class="ss">:lots</span><span class="p">,</span> <span class="ss">:of</span><span class="p">,</span> <span class="ss">:associated</span><span class="p">,</span> <span class="ss">:data</span><span class="p">)</span>
      <span class="p">.</span><span class="nf">first</span>

    <span class="n">render</span> <span class="ss">:json</span> <span class="o">=&gt;</span> <span class="n">person</span><span class="p">.</span><span class="nf">to_json</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<p>The goal is to avoid loading the person and its associated data from the SQL
database every time if it hasn’t been modified. We want to store the resulting
JSON and the last modification date in Redis so that we can quickly return a
cached version. We will also generate an ETag by hashing the JSON.</p>

<p>For the sake of example, I added the caching methods to the <code class="language-plaintext highlighter-rouge">Person</code> class. This
could be generalized for any active record model.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">require</span> <span class="s1">'digest/sha2'</span>

<span class="k">class</span> <span class="nc">Person</span>
  <span class="n">after_save</span> <span class="ss">:clear_cache</span>

  <span class="c1"># Returns the cache for the person with the given ID.</span>
  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">cache</span> <span class="nb">id</span>

    <span class="c1"># Return existing cached data.</span>
    <span class="n">cache</span> <span class="o">=</span> <span class="n">load_from_cache</span> <span class="nb">id</span>
    <span class="k">return</span> <span class="n">cache</span> <span class="k">if</span> <span class="n">cache</span><span class="p">.</span><span class="nf">present?</span>

    <span class="c1"># Or load the data, then cache and return it.</span>
    <span class="n">person</span> <span class="o">=</span> <span class="nb">self</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="ss">id: </span><span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">])</span>
      <span class="p">.</span><span class="nf">includes</span><span class="p">(</span><span class="ss">:lots</span><span class="p">,</span> <span class="ss">:of</span><span class="p">,</span> <span class="ss">:associated</span><span class="p">,</span> <span class="ss">:data</span><span class="p">)</span>
      <span class="p">.</span><span class="nf">first</span>

    <span class="n">person</span><span class="p">.</span><span class="nf">save_to_cache</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">save_to_cache</span>

    <span class="c1"># Build cache data.</span>
    <span class="n">json</span> <span class="o">=</span> <span class="nb">self</span><span class="p">.</span><span class="nf">to_json</span>
    <span class="n">etag</span> <span class="o">=</span> <span class="no">Digest</span><span class="o">::</span><span class="no">SHA2</span><span class="p">.</span><span class="nf">hexdigest</span> <span class="n">json</span>

    <span class="c1"># Store it in a Redis hash.</span>
    <span class="vg">$redis</span><span class="p">.</span><span class="nf">hmset</span><span class="p">(</span>
      <span class="n">cache_key</span><span class="p">,</span>
      <span class="ss">:json</span><span class="p">,</span> <span class="n">json</span><span class="p">,</span>
      <span class="ss">:updated_at</span><span class="p">,</span> <span class="n">updated_at</span><span class="p">.</span><span class="nf">to_i</span><span class="p">,</span>
      <span class="ss">:etag</span><span class="p">,</span> <span class="n">etag</span>
    <span class="p">)</span>

    <span class="c1"># For simplicity, we use the same</span>
    <span class="c1"># return format as load_from_cache.</span>
    <span class="p">{</span>
      <span class="s1">'json'</span> <span class="o">=&gt;</span> <span class="n">json</span><span class="p">,</span>
      <span class="s1">'updated_at'</span> <span class="o">=&gt;</span> <span class="n">updated_at</span><span class="p">.</span><span class="nf">to_i</span><span class="p">,</span>
      <span class="s1">'etag'</span> <span class="o">=&gt;</span> <span class="n">etag</span>
    <span class="p">}</span>
  <span class="k">end</span>

  <span class="kp">private</span>

  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">load_from_cache</span> <span class="nb">id</span>

    <span class="c1"># Return the Redis hash.</span>
    <span class="c1"># This will return an empty hash if no data is cached.</span>
    <span class="vg">$redis</span><span class="p">.</span><span class="nf">hgetall</span> <span class="n">cache_key</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">cache_key</span> <span class="nb">id</span>
    <span class="s2">"</span><span class="si">#{</span><span class="nb">self</span><span class="p">.</span><span class="nf">name</span><span class="p">.</span><span class="nf">underscore</span><span class="si">}</span><span class="s2">:</span><span class="si">#{</span><span class="nb">id</span><span class="si">}</span><span class="s2">"</span> <span class="c1"># =&gt; "person:42"</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">clear_cache</span>
    <span class="vg">$redis</span><span class="p">.</span><span class="nf">del</span> <span class="n">cache_key</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">cache_key</span>
    <span class="nb">self</span><span class="p">.</span><span class="nf">class</span><span class="p">.</span><span class="nf">cache_key</span> <span class="nb">id</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<h2 id="conditional-request">Conditional Request</h2>

<p>Rails supports conditional requests out of the box with the <code class="language-plaintext highlighter-rouge">stale?</code> method. It
will set the ETag and last modified headers on the response and check them
against the request headers. If the headers don’t match, the response should be
generated from scratch, otherwise Rails will automatically return a 304 Not
Modified.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">PeopleController</span> <span class="o">&lt;</span> <span class="no">ActionController</span><span class="o">::</span><span class="no">Base</span>
  <span class="k">def</span> <span class="nf">show</span>
    <span class="n">cache</span> <span class="o">=</span> <span class="no">Person</span><span class="p">.</span><span class="nf">cache</span> <span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">]</span>

    <span class="c1"># Parse the cache data.</span>
    <span class="n">updated_at</span> <span class="o">=</span> <span class="no">Time</span><span class="p">.</span><span class="nf">at</span><span class="p">(</span><span class="n">cache</span><span class="p">[</span><span class="s1">'updated_at'</span><span class="p">].</span><span class="nf">to_i</span><span class="p">).</span><span class="nf">utc</span>
    <span class="n">etag</span> <span class="o">=</span> <span class="n">cache</span><span class="p">[</span><span class="s1">'etag'</span><span class="p">]</span>

    <span class="c1"># Perform the conditional check.</span>
    <span class="k">if</span> <span class="n">stale?</span> <span class="ss">last_modified: </span><span class="n">updated_at</span><span class="p">,</span> <span class="ss">etag: </span><span class="n">etag</span>

      <span class="c1"># The request ETag or last modified date</span>
      <span class="c1"># doesn't match what we have. The client</span>
      <span class="c1"># cache is stale. Send the JSON with updated</span>
      <span class="c1"># headers.</span>
      <span class="n">render</span> <span class="ss">:json</span> <span class="o">=&gt;</span> <span class="n">cache</span><span class="p">[</span><span class="s1">'json'</span><span class="p">]</span>
    <span class="k">end</span>

    <span class="c1"># The request headers match.</span>
    <span class="c1"># A 304 Not Modified will be sent.</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<h2 id="jquery-client">jQuery Client</h2>

<p>And that’s my periodic call from the browser. On the first request,
<a href="https://jquery.com">jQuery</a> will automatically get the ETag and last modified date from the
server and send them for the next requests. Nothing to do here.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">pollPerson</span><span class="p">()</span> <span class="p">{</span>

  <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
    <span class="na">url</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">/people/42</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">dataType</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">json</span><span class="dl">'</span><span class="p">,</span>
    <span class="c1">// The "ifModified" option makes it so that</span>
    <span class="c1">// the done callback is only called if the</span>
    <span class="c1">// response is not a 304 Not Modified.</span>
    <span class="na">ifModified</span> <span class="p">:</span> <span class="kc">true</span>
  <span class="p">}).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doStuffWith</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">}</span>

<span class="c1">// Poll every 30 seconds.</span>
<span class="nx">setInterval</span><span class="p">(</span><span class="nx">pollPerson</span><span class="p">,</span> <span class="mi">30000</span><span class="p">);</span>
</code></pre></div></div>

<h2 id="cache-auto-expiration">Cache Auto-Expiration</h2>

<p>If you prefer to expire your cache after a certain time rather than with or in
addition to the <code class="language-plaintext highlighter-rouge">after_save</code> callback, you can tell Redis to do that:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Wrap it in a multi block for faster execution.</span>
<span class="vg">$redis</span><span class="p">.</span><span class="nf">multi</span> <span class="k">do</span>
  <span class="vg">$redis</span><span class="p">.</span><span class="nf">hmset</span><span class="p">(</span>
    <span class="n">cache_key</span><span class="p">,</span>
    <span class="ss">:json</span><span class="p">,</span> <span class="n">json</span><span class="p">,</span>
    <span class="ss">:updated_at</span><span class="p">,</span> <span class="n">updated_at</span><span class="p">.</span><span class="nf">to_i</span><span class="p">,</span>
    <span class="ss">:etag</span><span class="p">,</span> <span class="n">etag</span>
  <span class="p">)</span>

  <span class="vg">$redis</span><span class="p">.</span><span class="nf">expire</span> <span class="n">cache_key</span><span class="p">,</span> <span class="mi">1</span><span class="p">.</span><span class="nf">day</span><span class="p">.</span><span class="nf">to_i</span>
<span class="k">end</span>
</code></pre></div></div>

<p>Go cache in peace.</p>


  </div>

  <!-- Language versions (if available) --><div class="flex flex-wrap justify-evenly space-x-8 mt-16">
      
        
        
        


<a class="flex items-center justify-center space-x-2 mb-4 cursor-pointer no-underline text-red-700 group hover:text-blue-400" href="https://www.ruby-lang.org"><span class="logo w-12 h-12 fill-current">
      <svg role="img" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <title>Ruby</title>
  <path d="M20.156.083c3.033.525 3.893 2.598 3.829 4.77L24 4.822 22.635 22.71 4.89 23.926h.016C3.433 23.864.15 23.729 0 19.139l1.645-3 2.819 6.586.503 1.172 2.805-9.144-.03.007.016-.03 9.255 2.956-1.396-5.431-.99-3.9 8.82-.569-.615-.51L16.5 2.114 20.159.073l-.003.01zM0 19.089v.026-.029.003zM5.13 5.073c3.561-3.533 8.157-5.621 9.922-3.84 1.762 1.777-.105 6.105-3.673 9.636-3.563 3.532-8.103 5.734-9.864 3.957-1.766-1.777.045-6.217 3.612-9.75l.003-.003z"></path>
</svg>

    </span><div class="flex flex-col">
    <span class="font-mono no-underline text-red-700 group-hover:text-blue-400">
      Ruby
    </span>
    <code class="text-gray-500 group-hover:text-blue-400">1.9.3</code>
  </div>
</a>

      
        
        
        


<a class="flex items-center justify-center space-x-2 mb-4 cursor-pointer no-underline text-red-500 group hover:text-blue-400" href="https://rubyonrails.org"><span class="logo w-12 h-12 fill-current">
      <svg role="img" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <title>Ruby on Rails</title>
  <path d="M20.89 15.311v1.164h1.983c.406 0 1.103-.315 1.127-1.196v-.45c0-.752-.582-1.196-1.127-1.196h-.989v-.54h1.959v-1.17h-1.88c-.485 0-1.133.424-1.133 1.215v.405c0 .79.642 1.196 1.133 1.196 1.364.006-.327 0 .934 0v.566zm-10.62-.283s1.06-.096 1.06-1.55c0-1.452-1.285-1.587-1.285-1.587H7.729v4.584h1.164v-1.106L9.9 16.475h1.722zm-.45-.938h-.927v-1.048h.934s.26.102.26.52c0 .418-.266.528-.266.528zm4.384-2.167H13.02c-.842 0-1.127.81-1.127 1.196v3.356h1.182v-.804h1.11v.804h1.145v-3.356c0-.978-.836-1.196-1.127-1.196zm-.019 2.45H13.07V13.26s0-.25.37-.25h.406c.327 0 .333.25.333.25v1.112zm1.686-2.45h1.23v4.552h-1.23zm2.958 3.375v-3.375h-1.224v4.552h2.88v-1.177zM.424 16.475h4.79s-.916-4.43 2.115-6.224c.66-.34 2.764-1.614 6.208 1.087.109-.097.212-.174.212-.174S10.597 7.827 7.086 8.2c-1.764.167-3.934 1.871-5.207 4.122C.606 14.572.424 16.474.424 16.474zm0 0h4.79s-.916-4.43 2.115-6.224c.66-.34 2.764-1.614 6.208 1.087.109-.097.212-.174.212-.174S10.597 7.827 7.086 8.2c-1.764.167-3.934 1.871-5.207 4.122C.606 14.572.424 16.474.424 16.474zm0 0h4.79s-.916-4.43 2.115-6.224c.66-.34 2.764-1.614 6.208 1.087.109-.097.212-.174.212-.174S10.597 7.827 7.086 8.2c-1.77.167-3.94 1.871-5.213 4.122C.6 14.572.424 16.474.424 16.474zm9.979-7.915l.024-.43c-.055-.033-.206-.11-.588-.226l-.024.425c.2.07.394.148.588.231zm-.576 1.363l-.025.405c.2.007.4.033.6.078l.025-.4a4.06 4.06 0 00-.6-.083zM7.584 7.917h.06l-.121-.392a4.57 4.57 0 00-.582.039l.115.379c.176-.02.352-.026.528-.026zm.29 2.366l.14.444c.176-.09.352-.167.527-.225l-.133-.424a4.24 4.24 0 00-.533.205zm-2.752-1.69l-.272-.444a9.49 9.49 0 00-.473.276l.279.45c.157-.103.309-.2.466-.283zm1.243 2.893l.291.463c.103-.161.224-.31.358-.457l-.273-.437a3.487 3.487 0 00-.376.43zm-.879 2.07l.491.411a5.417 5.417 0 01.127-.752l-.436-.366a6.41 6.41 0 00-.182.707zm-2.655-3.054l-.43-.399c-.158.161-.31.322-.45.482l.468.425a6.423 6.423 0 01.412-.508zM1 13.376l-.697-.27a17.22 17.22 0 00-.303.771l.697.27c.079-.218.206-.533.303-.771zm4.395 1.813c.012.34.043.617.073.81l.727.277a8.962 8.962 0 01-.145-.836z"></path>
</svg>

    </span><div class="flex flex-col">
    <span class="font-mono no-underline text-red-500 group-hover:text-blue-400">
      Ruby on Rails
    </span>
    <code class="text-gray-500 group-hover:text-blue-400">3.2.12</code>
  </div>
</a>

      
        
        
        


<a class="flex items-center justify-center space-x-2 mb-4 cursor-pointer no-underline text-red-500 group hover:text-blue-400" href="https://redis.io"><span class="logo w-12 h-12 fill-current">
      <svg role="img" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <title>Redis</title>
  <path d="M10.5 2.661l.54.997-1.797.644 2.409.218.748 1.246.467-1.121 2.077-.208-1.61-.613.426-1.017-1.578.519zm6.905 2.077L13.76 6.182l3.292 1.298.353-.146 3.293-1.298zm-10.51.312a2.97 1.153 0 0 0-2.97 1.152 2.97 1.153 0 0 0 2.97 1.153 2.97 1.153 0 0 0 2.97-1.153 2.97 1.153 0 0 0-2.97-1.152zM24 6.805s-8.983 4.278-10.395 4.953c-1.226.561-1.901.561-3.261.094C8.318 11.022 0 7.241 0 7.241v1.038c0 .24.332.499.966.8 1.277.613 8.34 3.677 9.45 4.206 1.112.53 1.9.54 3.313-.197 1.412-.738 8.049-3.905 9.326-4.57.654-.342.945-.602.945-.84zm-10.042.602L8.39 8.26l3.884 1.61zM24 10.637s-8.983 4.279-10.395 4.954c-1.226.56-1.901.56-3.261.093C8.318 14.854 0 11.074 0 11.074v1.038c0 .238.332.498.966.8 1.277.612 8.34 3.676 9.45 4.205 1.112.53 1.9.54 3.313-.197 1.412-.737 8.049-3.905 9.326-4.57.654-.332.945-.602.945-.84zm0 3.842l-10.395 4.954c-1.226.56-1.901.56-3.261.094C8.318 18.696 0 14.916 0 14.916v1.038c0 .239.332.499.966.8 1.277.613 8.34 3.676 9.45 4.206 1.112.53 1.9.54 3.313-.198 1.412-.737 8.049-3.904 9.326-4.569.654-.343.945-.613.945-.841z"></path>
</svg>

    </span><div class="flex flex-col">
    <span class="font-mono no-underline text-red-500 group-hover:text-blue-400">
      Redis
    </span>
    <code class="text-gray-500 group-hover:text-blue-400">2.4.16</code>
  </div>
</a>

      
        
        
        


<a class="flex items-center justify-center space-x-2 mb-4 cursor-pointer no-underline text-blue-500 group hover:text-blue-400" href="https://jquery.com"><span class="logo w-12 h-12 fill-current">
      <svg role="img" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <title>jQuery</title>
  <path d="M1.525 5.87c-2.126 3.054-1.862 7.026-.237 10.269.037.079.078.154.118.229.023.052.049.1.077.15.013.027.031.056.047.082.026.052.054.102.081.152l.157.266c.03.049.057.097.09.146.056.094.12.187.178.281.026.04.05.078.079.117a6.368 6.368 0 00.31.445c.078.107.156.211.24.315.027.038.058.076.086.115l.22.269c.028.03.055.067.084.099.098.118.202.233.306.35l.005.006a3.134 3.134 0 00.425.44c.08.083.16.165.245.245l.101.097c.111.105.223.209.34.309.002 0 .003.002.005.003l.057.05c.102.089.205.178.31.26l.125.105c.085.068.174.133.26.2l.137.105c.093.07.192.139.287.207.035.025.07.05.106.073l.03.023.28.185.12.08c.148.094.294.184.44.272.041.02.084.044.123.068.108.062.22.125.329.183.06.034.122.063.184.094.075.042.153.083.234.125a.324.324 0 01.056.023c.033.015.064.031.096.047.12.06.245.118.375.175.024.01.05.02.076.034.144.063.289.123.438.182.034.01.07.027.105.04.135.051.274.103.411.152l.05.018c.154.052.305.102.46.15.036.01.073.023.111.033.16.048.314.105.474.137 10.273 1.872 13.258-6.177 13.258-6.177-2.508 3.266-6.958 4.127-11.174 3.169-.156-.036-.312-.086-.47-.132a13.539 13.539 0 01-.567-.182l-.062-.024c-.136-.046-.267-.097-.4-.148a1.615 1.615 0 00-.11-.04c-.148-.06-.29-.121-.433-.184-.031-.01-.057-.024-.088-.036a23.44 23.44 0 01-.362-.17 1.485 1.485 0 01-.106-.052c-.094-.044-.188-.095-.28-.143a3.947 3.947 0 01-.187-.096c-.114-.06-.227-.125-.34-.187-.034-.024-.073-.044-.112-.066a15.922 15.922 0 01-.439-.27 2.107 2.107 0 01-.118-.078 6.01 6.01 0 01-.312-.207c-.035-.023-.067-.048-.103-.073a9.553 9.553 0 01-.295-.212c-.042-.034-.087-.066-.132-.1-.088-.07-.177-.135-.265-.208l-.118-.095a10.593 10.593 0 01-.335-.28.258.258 0 00-.037-.031l-.347-.316-.1-.094c-.082-.084-.166-.164-.25-.246l-.098-.1a9.081 9.081 0 01-.309-.323l-.015-.016c-.106-.116-.21-.235-.313-.355-.027-.03-.053-.064-.08-.097l-.227-.277a21.275 21.275 0 01-.34-.449C2.152 11.79 1.306 7.384 3.177 3.771m4.943-.473c-1.54 2.211-1.454 5.169-.254 7.508a9.111 9.111 0 00.678 1.133c.23.33.484.721.793.988.107.122.223.24.344.36l.09.09c.114.11.232.217.35.325l.016.013a9.867 9.867 0 00.414.342c.034.023.063.05.096.073.14.108.282.212.428.316l.015.009c.062.045.128.086.198.13.028.018.06.042.09.06.106.068.21.132.318.197.017.007.032.016.048.023.09.055.188.108.282.157.033.02.065.035.1.054.066.033.132.068.197.102l.032.014c.135.067.273.129.408.19.034.014.063.025.092.039.111.048.224.094.336.137.05.017.097.037.144.052.102.038.21.073.31.108l.14.045c.147.045.295.104.449.13C22.164 17.206 24 11.098 24 11.098c-1.653 2.38-4.852 3.513-8.261 2.628a8.04 8.04 0 01-.449-.13c-.048-.014-.09-.029-.136-.043-.104-.036-.211-.07-.312-.109l-.144-.054c-.113-.045-.227-.087-.336-.135-.034-.015-.065-.025-.091-.04-.14-.063-.281-.125-.418-.192l-.206-.107-.119-.06a5.673 5.673 0 01-.265-.15.62.62 0 01-.062-.035c-.106-.066-.217-.13-.318-.198-.034-.019-.065-.042-.097-.062l-.208-.136c-.144-.1-.285-.208-.428-.313-.032-.029-.063-.053-.094-.079-1.499-1.178-2.681-2.79-3.242-4.613-.59-1.897-.46-4.023.56-5.75m4.292-.147c-.909 1.334-.996 2.99-.37 4.46.665 1.563 2.024 2.79 3.608 3.37.065.025.128.046.196.07l.088.027c.092.03.185.063.28.084 4.381.845 5.567-2.25 5.886-2.704-1.043 1.498-2.792 1.857-4.938 1.335a4.85 4.85 0 01-.516-.16 6.352 6.352 0 01-.618-.254 6.53 6.53 0 01-1.082-.66c-1.922-1.457-3.113-4.236-1.859-6.5"></path>
  </svg>

    </span><div class="flex flex-col">
    <span class="font-mono no-underline text-blue-500 group-hover:text-blue-400">
      jQuery
    </span>
    <code class="text-gray-500 group-hover:text-blue-400">1.9.1</code>
  </div>
</a>

      
        
        
        


<a class="flex items-center justify-center space-x-2 mb-4 cursor-pointer no-underline text-gray-400 group hover:text-blue-400" href=""><div class="flex flex-col">
    <span class="font-mono no-underline text-gray-400 group-hover:text-blue-400">
      hiredis-rb
    </span>
    <code class="text-gray-500 group-hover:text-blue-400">0.4.5</code>
  </div>
</a>

      
        
        
        


<a class="flex items-center justify-center space-x-2 mb-4 cursor-pointer no-underline text-gray-400 group hover:text-blue-400" href=""><div class="flex flex-col">
    <span class="font-mono no-underline text-gray-400 group-hover:text-blue-400">
      redis-namespace
    </span>
    <code class="text-gray-500 group-hover:text-blue-400">1.1.0</code>
  </div>
</a>

      
    </div>
<a class="u-url" href="/2013/03/conditional-get-with-rails/" hidden></a>
</article>

      </main><footer class="max-w-prose mt-24 mb-12 mx-auto p-4 font-body text-gray-500 text-sm">

  <div class="flex justify-between items-center">
    <!-- Subscribe to feed -->
    <a class="flex items-center space-x-2 hover:text-blue-400 hover:underline" href="/feed.xml">
      <svg class="inline w-4 h-4 fill-current" role="img" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <title>RSS icon</title>
        <path d="M19.199 24C19.199 13.467 10.533 4.8 0 4.8V0c13.165 0 24 10.835 24 24h-4.801zM3.291 17.415c1.814 0 3.293 1.479 3.293 3.295 0 1.813-1.485 3.29-3.301 3.29C1.47 24 0 22.526 0 20.71s1.475-3.294 3.291-3.295zM15.909 24h-4.665c0-6.169-5.075-11.245-11.244-11.245V8.09c8.727 0 15.909 7.184 15.909 15.91z"></path>
      </svg>
      <span>Subscribe</span>
    </a>

    <!-- Email -->
    <a class="flex items-center space-x-2 hover:text-blue-400 hover:underline" href="mailto:%63%6F%6E%74%61%63%74@%61%6C%70%68%61%68%79%64%72%61%65.%63%6F%6D">
      <svg class="inline w-4 h-4 fill-current" role="img" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <title>Email icon</title>
        <path fill-rule="evenodd" d="M1.75 3A1.75 1.75 0 000 4.75v14c0 .966.784 1.75 1.75 1.75h20.5A1.75 1.75 0 0024 18.75v-14A1.75 1.75 0 0022.25 3H1.75zM1.5 4.75a.25.25 0 01.25-.25h20.5a.25.25 0 01.25.25v.852l-10.36 7a.25.25 0 01-.28 0l-10.36-7V4.75zm0 2.662V18.75c0 .138.112.25.25.25h20.5a.25.25 0 00.25-.25V7.412l-9.52 6.433c-.592.4-1.368.4-1.96 0L1.5 7.412z"></path>
      </svg>
      <span>Email</span>
    </a>

    <!-- License -->
    <span>© 2012-2021</span>
  </div>

  <div class="flex flex-col items-center mt-8 px-8 space-y-2 text-center text-xs">
    <a class="opacity-80 hover:opacity-100" rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">
      <img alt="Creative Commons Licence" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png">
    </a>
    <p>
      Unless otherwise specified, this work is licensed under a
      <a class="text-blue-400 hover:underline" rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">
        Creative Commons Attribution-ShareAlike 4.0 International License
      </a>.
    </p>
  </div>

  <!-- Attribution -->
  <div class="mt-4 text-center text-xs">
    Fonts by <a class="text-blue-400 hover:underline" href="https://fonts.google.com">Google Fonts</a>,
    brands by <a class="text-blue-400 hover:underline" href="https://simpleicons.org">Simple Icons</a>,
    other icons by <a class="text-blue-400 hover:underline" href="https://primer.style/octicons/">Octicons</a>.
  </div>

  <div class="flex justify-center mt-4">
    <span class="w-6 h-6 mt-2"><span class="w-6 h-6 emoji-container"><img class="emoji" title=":beetle:" alt=":beetle:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f41e.png" height="20" width="20"></span>
</span>
    <span class="w-6 h-6 mt-2"><span class="w-6 h-6 emoji-container"><img class="emoji" title=":cat2:" alt=":cat2:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f408.png" height="20" width="20"></span>
</span>
  </div>

</footer>
</div>

  </body>

</html>
